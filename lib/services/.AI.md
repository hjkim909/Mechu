# services 디렉토리 - 비즈니스 로직

## 역할
앱의 핵심 비즈니스 로직과 데이터 처리 서비스들이 위치합니다.

## 파일 설명

### 서비스 파일
- `recommendation_service.dart` - 메뉴 추천 서비스
  - 음식점 추천 알고리즘
  - 필터링 및 정렬 로직
  - 시간대별 추천 기능
  - 카카오/네이버 API 연동

- `location_service.dart` - 위치 관련 서비스
  - 현재 위치 가져오기 (GPS)
  - 주소 변환 (Geocoding/Reverse Geocoding)
  - 거리 계산 (Haversine 공식)
  - 위치 권한 관리

- `user_service.dart` - 사용자 관리 서비스
  - 사용자 정보 관리
  - 게스트 사용자 자동 생성
  - 사용자 선호도 관리

- `kakao_api_service.dart` - 카카오 API 서비스 ✨ NEW
  - 카카오 로컬 API 연동
  - 음식점 검색 기능
  - 카테고리별 검색 지원
  - API 응답 파싱

- `naver_api_service.dart` - 네이버 API 서비스 ✨ NEW
  - 네이버 지역 검색 API 연동
  - 추가 음식점 데이터 소스
  - 백업 API 역할

- `config_service.dart` - 앱 설정 서비스 ✨ NEW
  - API 키 관리 시스템
  - 개발/실제 모드 전환
  - 보안 설정 관리

- `preferences_service.dart` - 설정 저장 서비스 ✨ NEW
  - SharedPreferences 기반 저장
  - 사용자 설정 영구 저장
  - 테마, 위치, 선호도 저장

- `favorite_service.dart` - 즐겨찾기 서비스 ✨ NEW
  - 즐겨찾기 음식점 관리
  - 로컬 저장 및 불러오기
  - 즐겨찾기 상태 관리

- `recommendation_history_service.dart` - 추천 이력 서비스 ✨ NEW
  - 추천 기록 관리 (최대 100개)
  - 방문 여부 추적
  - 통계 데이터 생성
  - 백업/복원 기능

- `services.dart` - 모든 서비스의 export 파일

## 개발 지침
- 모든 서비스는 Singleton 패턴 사용
- 비동기 작업은 `Future`를 반환
- 에러 처리는 try-catch 블록 사용
- 의존성 주입을 통한 테스트 용이성 확보
- 각 서비스는 단일 책임 원칙 준수

## 서비스 패턴
```dart
class SomeService {
  static final SomeService _instance = SomeService._internal();
  factory SomeService() => _instance;
  SomeService._internal();
  
  Future<ResultType> someMethod() async {
    // 비즈니스 로직 구현
  }
}
```

## 데이터 소스
- 현재는 샘플 데이터 사용
- 향후 외부 API 연동 예정
- 로컬 데이터베이스 연동 고려

## 테스트 고려사항
- 각 서비스는 독립적으로 테스트 가능
- Mock 객체를 사용한 단위 테스트 작성
- 비동기 작업 테스트 시 `testWidgets` 사용 